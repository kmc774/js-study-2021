<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- 
          0   1   2   3   4   5   6   7   8
  /(row)  0   0   0   1   1   1   2   2   2
  %(col)  0   1   2   0   1   2   0   1   2 
  -->
    <script>
      //슬롯 클래스
      class Slot {
        constructor() {
          this._matrix = Array.from(Array(3), () => new Array(3))
          this._shapeList = [
            { shape: "star", score: 10 },
            { shape: "square", score: 5 },
            { shape: "circle", score: 3 },
            { shape: "triangle", score: 2 },
          ]
        }

        start() {
          let rows = 0
          let columns = 0
          for (let count = 0; count < Math.pow(this._matrix.length, 2); count++) {
            this._matrix[columns][rows] = this._shapeList[parseInt(Math.random() * 4)]
            rows++
            if ((count + 1) % 3 === 0) {
              columns++
              rows = 0
            }
          }
        } // start()

        winCheck() {
          const set_check = new Set()
          const result = []
          this._matrix.forEach(function (item, idx) {
            item.map((v) => set_check.add(v))
            if (set_check.size === 1) {
              result.push(idx)
            }
            set_check.clear()
          })
          return result
        }
      } // 클래스

      const slot = new Slot()
      slot.start()
      console.log(slot._matrix[slot.winCheck()[0]])
    </script>
  </body>
</html>
